{{- $ThemeVersion := "3.15.0" -}}
<footer class="site-footer">
    <section class="copyright">
        &copy; 
        {{ if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format "2006"))) }}
            {{ .Site.Params.footer.since }} - 
        {{ end }}
        {{ now.Format "2006" }} {{ .Site.Title }}
    </section>
    
    <!-- busuanzi pv和uv -->
    <section class="powerby">
        {{- if .Site.Params.busuanzi.enable -}}
        <section>
            本站浏览情况 ：<br />
            <!--
            <span id="busuanzi_container_site_pv" style="color: skyblue; display: inline; font-size: 24px;">
                <span id="busuanzi_value_site_pv"></span>
            </span>
            -->
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="busuanzi_container_site_pv">
                本站总访问量 <span id="busuanzi_value_site_pv" style="color: rgb(220, 19, 19); display: inline; font-size: 14px;"></span>（次）
            </span>
            <br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="busuanzi_container_site_uv">
                本站访客数 <span id="busuanzi_value_site_uv" style="color: rgb(6, 135, 16); display: inline; font-size: 14px;" ></span>（人次）
          </span>
        </section>
        <div class="footer-line">
            <script>
                /* 站点运行时间 */
                function runtime() {
                    window.setTimeout("runtime()", 1000);
                    /* 请修改这里的起始时间 11/07/2022 月/日/年 */
                    let startTime = new Date('11/07/2022 00:00:00');
                    let endTime = new Date();
                    let usedTime = endTime - startTime;
                    let days = Math.floor(usedTime / (24 * 3600 * 1000));
                    let leavel = usedTime % (24 * 3600 * 1000);
                    let hours = Math.floor(leavel / (3600 * 1000));
                    let leavel2 = leavel % (3600 * 1000);
                    let minutes = Math.floor(leavel2 / (60 * 1000));
                    let leavel3 = leavel2 % (60 * 1000);
                    let seconds = Math.floor(leavel3 / (1000));
                    let runbox = document.getElementById('run-time');
                    runbox.innerHTML = '本站已运行<i class="far fa-clock fa-fw"></i> '
                        + '<span style="color: rgb(100, 38, 215); display: inline; font-size: 14px;">'
                        + ((days < 10) ? '0' : '') + days + ' 天 '
                        + ((hours < 10) ? '0' : '') + hours + ' 时 '
                        + ((minutes < 10) ? '0' : '') + minutes + ' 分 '
                        + ((seconds < 10) ? '0' : '') + seconds + ' 秒 <span/>';
                }
                setTimeout(function (){              
                    runtime();     
                }, 1000);
                
            </script>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id="run-time"></span>
        </div>
        {{- end -}}

        {{ with .Site.Params.footer.customText }}
            {{ . | safeHTML }} <br/>
        {{ end }}

        {{- $Generator := `<a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>` -}}
        {{- $Theme := printf `<b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="%s">Stack</a></b>` $ThemeVersion -}}
        {{- $DesignedBy := `<a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>` -}}

        {{ T "footer.builtWith" (dict "Generator" $Generator) | safeHTML }} <br />
        {{ T "footer.designedBy" (dict "Theme" $Theme "DesignedBy" $DesignedBy) | safeHTML }}
    </section>
</footer>
